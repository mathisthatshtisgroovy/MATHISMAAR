<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Mathis</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="global.css">
<link rel="stylesheet" href="archive.css">
<link rel="stylesheet" href="home.css">
</head>

<body data-page="home" class="transparent-bg">
 <div id="nav"></div>

  <script> fetch("nav.html").then(r=>r.text()).then(d=>document.getElementById("nav").innerHTML=d); </script>




<!-- HERO IMAGE -->
<div id="hero" class="hero"></div>

<div class="archive-button" id="archive-button"></div>

<!-- SOUND UI -->
<div class="now-playing-wrap">
    <div id="skip-sound" class="skip-sound-btn"></div>
    <div id="now-playing" class="now-playing-text">Now Playing: —</div>
    <div id="skip-notice" class="skip-notice">skipped</div>
</div>


<!-- SCROLL reveals teaser -->
<div class="scroll-indicator">scroll ↓</div>

<section class="teaser">
  <video src="assets/home/teaser.mp4" autoplay muted loop playsinline></video>
</section>

<script src="sound.js"></script>
<script src="transition.js"></script>
<script>

// HERO BACKGROUND ROTATION
const heroImages = [
  "hero1.webp",
  "hero2.webp",
  "hero3.webp"
];

const hero = document.getElementById("hero");

// Load one random hero on page load
function loadHero(){
  const img = heroImages[Math.floor(Math.random() * heroImages.length)];
  hero.style.backgroundImage = `url('assets/home/${img}')`;
}

loadHero();

// 1) Ensure audio only activates when warm mode toggles
document.getElementById("archive-button").onclick = ()=>{
  document.body.classList.toggle("theme-warm");
  handleSoundState();          // ← THIS STARTS AUDIO
};

// 2) Skip button on home
document.getElementById("skip-sound").onclick = ()=> skipTrack();

// 4) When page loads (including back navigation), if warm mode was active → resume sound
window.onload = ()=>{
  if(document.body.classList.contains("theme-warm")) handleSoundState();
};

</script>




</body>
</html>
